# Brain Tumor Detection GUI (MATLAB)

## Overview

This repository contains a MATLAB GUI for basic brain tumor detection and segmentation from MRI images. The GUI was built using GUIDE (MATLAB's GUI design tool) and wraps several image-processing functions that perform denoising, skull stripping, segmentation, and compute performance metrics (Precision, Recall, F‑Measure, Accuracy, etc.).

The main entry point is `brain_tumor_gui.m` (generated by GUIDE) along with helper processing functions located in the `Functions/` folder. Example images are expected to be in the `DataSet/` folder. A small `Variables/` folder is included for any saved workspace files used by the project.

---

## Repository structure

```
/ (project root)
├── DataSet/                # Example MRI images used for demo/testing
├── Functions/              # Processing functions (denoising, segmentation, metrics)
├── Variables/              # Optional saved .mat files or supporting variables
├── brain_tumor_gui.fig     # GUIDE .fig file (GUI layout)
├── brain_tumor_gui.m       # Main GUI code (callbacks, displays)
├── README.md               # This file
└── README.md               # (this file)
```

> Note: filenames/folders may vary slightly depending on how you cloned the project. Keep `brain_tumor_gui.m` and the `Functions/` folder together.

---

## Requirements

* MATLAB (R2014b or later recommended). GUIDE-generated GUIs work best with the MATLAB release that created them but are usually compatible with later releases.
* Image Processing Toolbox (required for `imread`, `imshow`, morphological ops, etc.).
* (Optional) Other toolboxes used by the helper functions — check the headers of functions inside `Functions/` if a toolbox dependency is missing.

---

## Main files and what they do

* `brain_tumor_gui.m` — GUIDE-generated GUI script. Contains initialization code and a set of callbacks for UI controls (buttons, axes, and edit boxes). The important callbacks are:

  * `pushbutton5_Callback` / `pushbutton7_Callback` / `pushbutton11_Callback` — Let the user pick an input image. The selected image filename is stored in `handles.metricdata.image1` or `image2` and a noisy preview (salt & pepper) is shown in the axes.
  * `pushbutton2_Callback` — Runs `brain_tumor_modify` on `handles.metricdata.image1` and displays results in `axes2/3/4`. Also updates metric fields: Precision, Recall, F-measure, Accuracy and TL / NL values.
  * `pushbutton6_Callback` — Runs `base_fcm_rough_set` on `handles.metricdata.image2` and shows intermediate results (grayscale, foreground, denoised image) and metrics in `axes10/11/12`.
  * `pushbutton10_Callback` — Runs `brain_tumor_modify_BIBO` on `handles.metricdata.image1` (a variation of the detection pipeline) and displays its outputs in `axes18/19/20` and metrics in corresponding edit boxes.

* `Functions/brain_tumor_modify.m` (expected) — Performs denoising, skull removal, segmentation and computes metrics. Returns: `Precision, Recall, FMeasure, accuracy, total_time, denoise_img, without_skull_img, segment_img, TL, NL`.

* `Functions/base_fcm_rough_set.m` (expected) — A pipeline that uses FCM (Fuzzy C-means) combined with rough-set theory for segmentation. Returns grayscale image, foreground mask, denoised image and metrics.

* `Functions/brain_tumor_modify_BIBO.m` (expected) — Alternative pipeline (BIBO approach) that returns similar outputs to `brain_tumor_modify`.

> If you don't see these function files in `Functions/`, search the folder for names referenced in the GUI (e.g., `brain_tumor_modify`, `base_fcm_rough_set`, `brain_tumor_modify_BIBO`) and make sure they are on the MATLAB path.

---

## How to run

1. Open MATLAB and make the project root the current directory (or add it to the MATLAB path).
2. If your MATLAB release supports GUIDE, open the GUI by either:

   * Double-clicking `brain_tumor_gui.fig` in the Current Folder browser, then pressing Run; OR
   * Running the command `brain_tumor_gui` from the MATLAB command window.
3. Use the file-select buttons ("Select Original Image") to load an MRI image (buttons map to `pushbutton5`, `pushbutton7`, etc.). The GUI shows a noisy preview — this is only a demo step.
4. Press the processing buttons (`Process`, `Run FCM`, `Run BIBO` — depending on your GUI labels) to run the corresponding pipeline. Results will populate the image axes and metric edit boxes.

---

## UI mapping (fields -> variables)

* Axes elements:

  * `axes1/9/17` — preview input image (noisy)
  * `axes2/18` — denoised image
  * `axes3/19` — without-skull image
  * `axes4/20` — final segmented tumor image
  * `axes10/11/12` — FCM intermediate results (grayscale, foreground, denoised)

* Edit boxes (metrics):

  * `edit1` — Precision (first pipeline)
  * `edit2` — Recall
  * `edit3` — F-Measure
  * `edit7` — Accuracy
  * `edit14`, `edit15` — TL, NL (true/false or some label counts)
  * Similar edit boxes with other indices (e.g., `edit26`-`edit31`, `edit9`-`edit13`) correspond to metrics for other pipelines.

---

## Tips & troubleshooting

* **Missing functions**: If MATLAB complains about undefined functions (e.g., `brain_tumor_modify`), ensure all `.m` files from `Functions/` are present and that the current folder or path includes the `Functions/` directory.
* **GUIDE compatibility**: Recent MATLAB releases deprecate GUIDE. If you cannot open the `.fig` file with GUIDE, you can still run `brain_tumor_gui` if it was generated for your release; otherwise consider re-creating the GUI with App Designer, or run callbacks programmatically.
* **Toolbox errors**: Install or enable the Image Processing Toolbox.
* **Image formats**: Use common image formats (`.png`, `.jpg`, `.bmp`, `.tif`). If DICOM MRIs are used (`.dcm`), you may need to modify helper functions to use `dicomread`.
* **Large images**: For large MRI scans, processing may be slow or memory intensive. Consider resizing for demo purposes.

---

## Extending the project

* Replace or improve the segmentation function (e.g., use deep learning / UNet) and adapt the GUI to show probability maps.
* Add an option to load ground truth masks and compute Dice coefficient / IoU.
* Save results: add buttons to export segmented masks and metric logs as `.mat`, `.png`, or `.csv` files.
